[![Build](https://github.com/creativeprojects/hosts-filter/workflows/Build/badge.svg)](https://github.com/creativeprojects/hosts-filter/actions)

# Introduction

Compile and update your hosts file from various block lists. Works on various unixes, Linux, macOS X and Windows.

# Configuration

Put all the block list URL into a config file `config.yaml`:
```yaml
---
# hosts file to update (leave blank for the system default)
# hosts_file: /etc/hosts

# IP used for filtered domains: default is 0.0.0.0
# ip: 0.0.0.0

block_lists:
  -
    url: http://winhelp2002.mvps.org/hosts.txt
  -
    url: http://someonewhocares.org/hosts/hosts
  -
    url: http://pgl.yoyo.org/adservers/serverlist.php?hostformat=hosts&mimetype=plaintext

# list of domains to remove from the lists
# allow:
#   - github.com

# file containing a list of domains allowed (one per line)
# allow_from: allow.txt

```

# Usage

```
hosts-filter [flags]

hosts-filter flags:
  -c, --config string   configuration file (default "config.yaml")
  -h, --help            display this help
  -l, --log string      logs into a file instead of the console
      --no-ansi         disable ansi control characters (disable console colouring)
  -q, --quiet           display only warnings and errors
  -r, --remove          clear up the hosts file of all entries generated by hosts-filter
  -o, --stdout          don't save the hosts file in place, but send it to the standard output instead
  -v, --verbose         display some debugging information

```

## Compile block lists and update your hosts file

```
$ sudo hosts-filter

loaded "http://winhelp2002.mvps.org/hosts.txt": 8815 entries in total
loaded "http://someonewhocares.org/hosts/hosts": 22069 entries in total
loaded "http://pgl.yoyo.org/adservers/serverlist.php?hostformat=hosts&mimetype=plaintext": 24890 entries in total
```

## Remove the block lists from your hosts file

```
$ sudo hosts-filter -r
```

# License

This work is licensed under the Creative Commons
Attribution-NonCommercial-ShareAlike License.
https://creativecommons.org/licenses/by-nc-sa/4.0/
